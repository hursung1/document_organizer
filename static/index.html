<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Doc Organizer Chat</title>
    <link rel="stylesheet" href="/static/styles.css?v=20260225c" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <div class="history-title">대화 내역</div>
        <div id="historyList" class="history-list"></div>
      </aside>

      <main class="chat-panel">
        <header class="chat-header">
          <h1 id="chatTitle">새 채팅</h1>
          <button id="newChatButton" type="button">새 채팅</button>
        </header>
        <div id="messages" class="messages">
          <div class="empty-state">
            <h2>질문을 입력하거나 추천 문서를 선택하세요</h2>
            <div id="starterCards" class="starter-cards"></div>
          </div>
        </div>

        <section id="followUpSection" class="followups hidden">
          <h3>사용자가 던질만한 질문</h3>
          <div id="followUpChips" class="chips"></div>
        </section>

        <form id="chatForm" class="composer">
          <textarea id="userInput" placeholder="질문을 입력하세요" rows="1"></textarea>
          <button type="submit">전송</button>
        </form>
      </main>

      <aside id="previewPanel" class="preview-panel" aria-label="문서 미리보기">
        <div class="preview-header">
          <div id="previewTitle" class="preview-title">문서 미리보기</div>
          <button id="previewCloseButton" type="button" class="preview-close">닫기</button>
        </div>
        <div id="previewUrl" class="preview-url"></div>
        <div class="preview-body">
          <iframe id="previewFrame" title="문서 미리보기"></iframe>
          <div class="preview-note">
            미리보기가 보이지 않으면 일부 사이트의 보안 정책 때문입니다.
            <a id="previewOpenNewTab" href="#" target="_blank" rel="noopener noreferrer">새 탭으로 열기</a>
          </div>
        </div>
      </aside>
    </div>

    <div id="deleteConfirmModal" class="modal-backdrop hidden" role="dialog" aria-modal="true">
      <div class="modal-card">
        <p class="modal-text">이 대화 내역을 삭제하시겠어요?</p>
        <div class="modal-actions">
          <button id="confirmDeleteYes" type="button">예</button>
          <button id="confirmDeleteNo" type="button">아니오</button>
        </div>
      </div>
    </div>

    <script src="/static/app.js?v=20260225c" defer></script>
  </body>
</html>
